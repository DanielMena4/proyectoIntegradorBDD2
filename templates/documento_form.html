{% extends 'base.html' %}
{% block title %}Documento{% endblock %}

{% block content %}
<div class="card shadow-sm">
  <div class="card-header">
    {{ 'Editar' if d else 'Nuevo' }} Documento
  </div>
  <div class="card-body">
    <form method="post" class="row g-3">

      <div class="col-md-3">
        <label>ID Documento *</label>
        <input class="form-control" name="documentoId" required value="{{ d.documentoId if d }}">
      </div>

      <div class="col-md-4">
        <label>Nombre</label>
        <input class="form-control" name="nombre" value="{{ d.nombre if d }}">
      </div>

      <div class="col-md-3">
        <label>Tipo</label>
        <input class="form-control" name="tipo" value="{{ d.tipo if d }}">
      </div>

      <div class="col-md-2">
        <label>Fecha Emisi√≥n</label>
        <input type="date" class="form-control" name="fechaEmision" value="{{ d.fechaEmision if d }}">
      </div>

      <div class="col-md-3">
        <label>Catequizando (opcional)</label>
        <select class="form-select" name="catequizandoId">
          <option value="">--Selecciona--</option>
          {% for c in catequizandos %}
          <option value="{{ c._id }}" {% if d and d.catequizandoId == c._id %}selected{% endif %}>{{ c.nombreCatequizando }} {{ c.apellidoCatequizando }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="col-md-3">
        <label>Catequista (opcional)</label>
        <select class="form-select" name="catequistaId">
          <option value="">--Selecciona--</option>
          {% for c in catequistas %}
          <option value="{{ c._id }}" {% if d and d.catequistaId == c._id %}selected{% endif %}>{{ c.nombreCatequista }} {{ c.apellidoCatequista }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="col-md-3">
        <label>Archivo</label>
        <input class="form-control" name="archivo" value="{{ d.archivo if d }}">
      </div>

      <div class="col-12 text-end mt-3">
        <button class="btn btn-primary"><i class="bi bi-save"></i> Guardar</button>
        <a class="btn btn-secondary" href="{{ url_for('lista_documentos') }}">Cancelar</a>
      </div>

    </form>
  </div>
</div>
{% endblock %}
